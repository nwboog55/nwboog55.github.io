---
title: С нуля до моддинга
layout: page
description: Начало работы с Forge
permalink: /forge/intro
---

## Начало работы с Forge
Если вы никогда ранее не создавали мод для Forge, этот раздел предоставит минимальную необходимую информацию для настройки среды разработки Forge. Остальная часть документации объясняет, что делать дальше.

### Требования
- Установленная версия Java Development Kit (JDK) 17 и 64-битная виртуальная машина Java (JVM). Forge рекомендует и официально поддерживает Eclipse Temurin.

> Важно! Убедитесь, что вы используете 64-битную JVM. Один из способов проверить — выполнить команду `java -version` в терминале. Использование 32-битной JVM вызывает проблемы при работе с ForgeGradle.
{: .prompt-warning }

- Знание интегрированной среды разработки (IDE).
  - Рекомендуется использовать IDE с интеграцией Gradle.

### От нуля до создания модов

1. Скачайте комплект разработчика модов (MDK) с сайта Forge, нажав «Mdk», затем кнопку «Skip» в правом верхнем углу после ожидания. Рекомендуется скачивать последнюю версию Forge по возможности.
2. Распакуйте скачанный MDK в пустую папку — это будет папка вашего мода, которая должна содержать несколько файлов gradle и подкаталог src с примером мода.

Некоторые файлы можно повторно использовать для разных проектов:
- `подкаталог gradle`
- `build.gradle`
- `gradlew`
- `gradlew.bat`
- `settings.gradle`
Подкаталог `src` не обязательно копировать между рабочими пространствами, однако при создании дальнейших файлов java (`src/main/java`) и ресурсов (`src/main/resources`) может понадобиться обновить проект Gradle.

3. Откройте выбранную IDE:
- Для разработки используется Eclipse и IntelliJ IDEA, у которых встроена поддержка Gradle по умолчанию. Для Visual Studio Code потребуется плагин «Gradle for Java».
- При импорте или открытии проекта IDE автоматически загрузит необходимые пакеты с серверов Mojang, MinecraftForge и других.
- Вам потребуется запустить Gradle для повторной оценки проекта при внесении почти любых изменений в файлы, такие как `build.gradle` или `settings.gradle`. В IDE обычно есть кнопки «Refresh», или можно запустить их через терминал командой `gradlew`.

4. Создайте конфигурации запуска для вашей IDE:

- Eclipse: выполните задачу `genEclipseRuns`.
- IntelliJ IDEA: выполните задачу `genIntellijRuns`. Если возникнет ошибка о неопределенном модуле, [`ideaModule property`](https://docs.minecraftforge.net/en/fg-6.x/configuration/runs/) укажите свой основной модуль, обычно `${project.name}.main`.
- Visual Studio Code: выполните задачу getVSCodeRuns.
- Другие IDE: можно запускать конфигурации напрямую через команды `gradlew`: `runClient`, `runServer`, `runData`, `runGameTestServer`.

## Настройка информации о вашем моде
Отредактируйте файл build.gradle, чтобы задать параметры сборки: имя файла, версию артефакта и т. д.

>Важно! Не редактируйте файл settings.gradle, если не знаете, что делаете — он определяет репозиторий, куда загружает ForgeGradle.
{: .prompt-warning }
### Рекомендуемые настройки `build.gradle`

#### Замена ID мода. 
Замените все упоминания `examplemod` (включая `mods.toml` и основной файл мода) на ваш ID мода, обычно задаваемый через `base.archivesName`.
```gradle
// В некоторых файлах build.gradle  
base.archivesName = 'mymod'  
```

#### ID группы
Параметр `group` должен быть вашим основным пакетом, например, доменом, которым владеете, или вашим email.

|   Тип    |     Значение      |   Основной пакет    |
|:--------:|:-----------------:|:-------------------:|
|  Домен   |    example.com    |    `com.example`    |
| Поддомен | example.github.io | `io.github.example` |
|  Email   | example@gmail.com | `com.gmail.example` |

```gradle
// В некоторых файлах build.gradle  
group = 'com.example'    
```
Пакеты в вашем исходном коде java (`src/main/java`) также должны теперь соответствовать этой структуре, с внутренним пакетом, представляющим идентификатор мода:
```text
com  
- example (верхний уровень пакета, указанный в свойстве группы)
  - mymod (id мода)
    - MyMod.java (переименнованный ExampleMod.java)    
```

#### Версия
Установите текущую версию вашего мода через свойство `version`. Рекомендуется использовать формат версионирования Maven.
```gradle
// В некоторых файлах build.gradle  
version = '1.20-1.0.0.0'    
```
#### Больше информации можно найти в документации ForgeGradle.

### Сборка и тестирование

Чтобы собрать ваш мод, выполните команду `gradlew build`. Это создаст файл в `build/libs` с именем `[archivesBaseName]-[version].jar`. Его можно положить в папку mods Minecraft с Forge или распространить. Чтобы запустить ваш мод в тестовой среде, используйте сгенерированные конфигурации или соответствующие команды (`gradlew` `runClient`, `runServer`). Это запустит Minecraft из папки `run` или другого выбранного каталога. В `комплекте MDK` есть основной набор исходного кода, всё, что в `src/main/java`, применяется при запуске. Если запускаете отдельный сервер, сначала нужно принять лицензию Minecraft: откройте `eula.txt` в папке `run` и поставьте `true`. После этого сервер запустится и его можно подключиться по `localhost`.

> Всегда тестируйте свой мод на отдельном сервере, даже если он клиентский — в серверной среде он должен работать без ошибок.
{: .prompt-warning }
